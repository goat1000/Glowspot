/**
 * Copyright (C) 2011-2013 Graham Breach
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 * 
 * You should have received a copy of the GNU Lesser General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
/**
 * Glowspot 1.1.1
 * For more information, please contact <graham@goat1000.com>
 */
(function(){var F,u,B,v={},D="",e,a="background",A=a+"-repeat",f=a+"-attachment",d=a+"-position",k=d+"-x",h=d+"-y",E=a+"-image",H=document,m=/\-([a-z])/g,j=[a+"-color",A,f,k,h,d,E],l=7,t={colour:"255,255,255",size:180,intensity:0.9},w=", ",s={};function y(c){return c[1].toUpperCase()}function g(c){return s[c]||(s[c]=c.replace(m,y))}function G(r,i){var c=H.defaultView;return(c&&c.getComputedStyle&&c.getComputedStyle(r,null).getPropertyValue(i))||(r.currentStyle&&r.currentStyle[g(i)])}function b(r,i,c){r.style[g(i)]=c}function o(r){var J=r[d],i=r[k],c=r[h],I=w,M,L,K,N=/\,\s*/;if(typeof i=="undefined"){return w+J}M=J.split(N);L=i.split(N);if(M.length>=L.length&&M[0].length>=L[0].length){I+=J}else{M=[];K=c.split(N);for(B=0;B<L.length;++B){M.push(L.shift()+" "+K.shift())}I+=(r[d]=M.join(w))}return I}function x(i,c){var r=F.getContext("2d"),I=r.createRadialGradient(u,u,0,u,u,u);I.addColorStop(0,"rgba("+i+w+c+")");I.addColorStop(1,"rgba("+i+",0)");r.fillStyle=I;r.fillRect(0,0,u*2,u*2);e="url("+F.toDataURL()+")"}function q(c,i){b(B,d,(c-u)+"px "+(i-u)+"px"+D)}function z(r,c,I,i){if(B){if(r.pageX){i=$(this).offset(),c=r.pageX-i.left,I=r.pageY-i.top}else{c=r.clientX,I=r.clientY}q(c,I)}}function n(I){var r=I.target,i=G(r,E),c;D="";if(i){for(c=0;c<l;++c){v[j[c]]=G(r,j[c])}D=o(v);b(r,A,"no-repeat, "+v[A]);b(r,E,e+w+i);b(r,f,"scroll, "+v[f])}B=r}function C(i){for(var c=0;c<l;++c){b(B,j[c],v[j[c]])}B=null}function p(r){F=document.createElement("canvas");if(!F||!F.getContext){return false}if(r){for(var c in r){t[c]=r[c]}}u=t.size;F.width=F.height=u*2;x(t.colour,t.intensity);this.each(function(){$(this).bind({mousemove:z,mouseout:C,mouseover:n})});return true}jQuery.fn.glowspot=p}(jQuery));
